!function(e,t){if("function"==typeof define&&define.amd)define("vxe-table-plugin-iview",[],t);else if("undefined"!=typeof exports)t();else{t(),e.VXETablePluginIView={}.default}}(this,function(){"use strict";exports.__esModule=!0;var b=require("xe-utils");function d(e,t,n){return b.default.toDateString(e,t.format||n)}function p(e,t,n,r){return b.default.map(e,function(e){return d(e,t,r)}).join(n)}function l(e,t,n,r){return(e=d(e,n,r))>=d(t[0],n,r)&&e<=d(t[1],n,r)}function v(e,t){var n=e.$table,r=t.props;return b.default.assign(n.vSize?{size:n.vSize}:{},r)}function m(e,t){var n,r=e.events,o=t.$table,a=((n={})["on-change"]=function(){return o.updateStatus(t)},n);return r&&b.default.assign(a,b.default.objectMap(r,function(e){return function(){e.apply(null,[t].concat.apply(t,arguments))}})),a}function e(e,t,n){var r=n.row,o=n.column,a=t.attrs,u=v(n,t);return[e(t.name,{props:u,attrs:a,model:{value:b.default.get(r,o.property),callback:function(e){b.default.set(r,o.property,e)}},on:m(t,n)})]}function g(e,t,n){var r=t.events;return r&&b.default.assign(e,b.default.objectMap(r,function(e){return function(){e.apply(null,[n].concat.apply(n,arguments))}})),e}function t(n,r,o,a){var u=o.column,i=r.name,l=r.attrs,d=v(o,r);return u.filters.map(function(t){var e;return n(i,{props:d,attrs:l,model:{value:t.data,callback:function(e){t.data=e}},on:g((e={},e["on-change"]=function(){h(a,u,!!t.data,t)},e),r,o)})})}function h(e,t,n,r){e[t.filterMultiple?"changeMultipleOption":"changeRadioOption"]({},n,r)}function n(e){var t=e.option,n=e.row,r=e.column,o=t.data;return b.default.get(n,r.property)===o}function M(n,e,t){var r=t.label||"label",o=t.value||"value";return b.default.map(e,function(e,t){return n("Option",{props:{value:e[o],label:e[r]},key:t})})}function w(e,t){return[""+(null==t?"":t)]}var r={Input:{autofocus:"input.ivu-input",renderDefault:e,renderEdit:e,renderFilter:t,filterMethod:n},AutoComplete:{autofocus:"input.ivu-input",renderDefault:e,renderEdit:e,renderFilter:t,filterMethod:n},InputNumber:{autofocus:"input.ivu-input-number-input",renderDefault:e,renderEdit:e,renderFilter:t,filterMethod:n},Select:{renderEdit:function(n,e,t){var r=e.options,o=e.optionGroups,a=e.optionProps,u=void 0===a?{}:a,i=e.optionGroupProps,l=void 0===i?{}:i,d=t.row,p=t.column,f=e.attrs,c=v(t,e);if(o){var s=l.options||"options",y=l.label||"label";return[n("Select",{props:c,attrs:f,model:{value:b.default.get(d,p.property),callback:function(e){b.default.set(d,p.property,e)}},on:m(e,t)},b.default.map(o,function(e,t){return n("OptionGroup",{props:{label:e[y]},key:t},M(n,e[s],u))}))]}return[n("Select",{props:c,attrs:f,model:{value:b.default.get(d,p.property),callback:function(e){b.default.set(d,p.property,e)}},on:m(e,t)},M(n,r,u))]},renderCell:function(e,t,n){var r=t.options,o=t.optionGroups,a=t.props,u=void 0===a?{}:a,i=t.optionProps,l=void 0===i?{}:i,d=t.optionGroupProps,p=void 0===d?{}:d,f=n.row,c=n.column,s=l.label||"label",y=l.value||"value",v=p.options||"options",m=b.default.get(f,c.property);return w(0,null!=m&&""!==m?b.default.map(u.multiple?m:[m],o?function(t){for(var e,n=0;n<o.length&&!(e=b.default.find(o[n][v],function(e){return e[y]===t}));n++);return e?e[s]:null}:function(t){var e=b.default.find(r,function(e){return e[y]===t});return e?e[s]:null}).join(";"):"")},renderFilter:function(n,e,r,o){var a=e.options,u=e.optionGroups,t=e.optionProps,i=void 0===t?{}:t,l=e.optionGroupProps,d=void 0===l?{}:l,p=r.column,f=e.attrs,c=v(r,e);if(u){var s=d.options||"options",y=d.label||"label";return p.filters.map(function(t){return n("Select",{props:c,attrs:f,model:{value:t.data,callback:function(e){t.data=e}},on:g({"on-change":function(e){h(o,p,e&&0<e.length,t)}},e,r)},b.default.map(u,function(e,t){return n("OptionGroup",{props:{label:e[y]},key:t},M(n,e[s],i))}))})}return p.filters.map(function(t){return n("Select",{props:c,attrs:f,model:{value:t.data,callback:function(e){t.data=e}},on:g({"on-change":function(e){h(o,p,e&&0<e.length,t)}},e,r)},M(n,a,i))})},filterMethod:function(e){var t=e.option,n=e.row,r=e.column,o=t.data,a=r.property,u=r.filterRender.props,i=void 0===u?{}:u,l=b.default.get(n,a);return i.multiple?b.default.isArray(l)?b.default.includeArrays(l,o):-1<o.indexOf(l):l==o}},Cascader:{renderEdit:e,renderCell:function(e,t,n){var r=t.props,o=void 0===r?{}:r,a=n.row,u=n.column,i=b.default.get(a,u.property)||[],l=[];return function t(n,e,r,o){var a=r[n];e&&r.length>n&&b.default.each(e,function(e){e.value===a&&(o.push(e.label),t(++n,e.children,r,o))})}(0,o.data,i,l),w(0,l.join(" "+(o.separator||"/")+" "))}},DatePicker:{renderEdit:e,renderCell:function(e,t,n){var r=t.props,o=void 0===r?{}:r,a=n.row,u=n.column,i=o.separator,l=b.default.get(a,u.property);switch(o.type){case"week":l=d(l,o,"yyyywWW");break;case"month":l=d(l,o,"yyyy-MM");break;case"year":l=d(l,o,"yyyy");break;case"dates":l=p(l,o,", ","yyyy-MM-dd");break;case"daterange":l=p(l,o," "+(i||"-")+" ","yyyy-MM-dd");break;case"datetimerange":l=p(l,o," "+(i||"-")+" ","yyyy-MM-dd HH:ss:mm");break;default:l=d(l,o,"yyyy-MM-dd")}return w(0,l)},renderFilter:function(e,n,r,o){var a=r.column,u=n.attrs,i=v(r,n);return a.filters.map(function(t){return e(n.name,{props:i,attrs:u,model:{value:t.data,callback:function(e){t.data=e}},on:g({"on-change":function(e){h(o,a,!!e,t)}},n,r)})})},filterMethod:function(e){var t=e.option,n=e.row,r=e.column,o=t.data,a=r.filterRender.props,u=void 0===a?{}:a,i=b.default.get(n,r.property);if(o)switch(u.type){case"daterange":return l(i,o,u,"yyyy-MM-dd");case"datetimerange":return l(i,o,u,"yyyy-MM-dd HH:ss:mm");default:return i===o}return!1}},TimePicker:{renderEdit:e},Rate:{renderDefault:e,renderEdit:e,renderFilter:t,filterMethod:n},iSwitch:{renderDefault:e,renderEdit:e,renderFilter:t,filterMethod:n}};function o(e,t,n){if((0,n.getEventTargetNode)(t,document.body,"ivu-select-dropdown").flag)return!1}exports.VXETablePluginIView={install:function(e){var t=e.interceptor;e.renderer.mixin(r),t.add("event.clear_filter",o),t.add("event.clear_actived",o)}},"undefined"!=typeof window&&window.VXETable&&window.VXETable.use(exports.VXETablePluginIView),exports.default=exports.VXETablePluginIView});