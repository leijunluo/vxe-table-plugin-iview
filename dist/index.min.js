!function(e,t){if("function"==typeof define&&define.amd)define("vxe-table-plugin-iview",["exports","xe-utils"],t);else if("undefined"!=typeof exports)t(exports,require("xe-utils"));else{var r={exports:{}};t(r.exports,e.XEUtils),e.VXETablePluginIView=r.exports.default}}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:this,function(e,E){"use strict";var t;function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k(e){return null==e||""===e}function u(){return"value"}function l(e,t,r){return E.default.toDateString(e,t.format||r)}function d(e,t,r,n){return E.default.map(e,function(e){return l(e,t,n)}).join(r)}function p(e,t,r,n){return(e=l(e,r,n))>=l(t[0],r,n)&&e<=l(t[1],r,n)}function b(e,t,r,n){var o=t.$table.vSize;return E.default.assign(o?{size:o}:{},n,e.props,a({},u(),r))}function g(e,t,r,n){var o=t.$form.vSize;return E.default.assign(o?{size:o}:{},n,e.props,a({},u(),r))}function i(e,o,t,n){var a=e.events,r="input",u="on-change",i={};return E.default.objectEach(a,function(n,e){i[e]=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n.apply(void 0,[o].concat(t))}}),t&&(i[r]=function(e){t(e),a&&a[r]&&a[r](e)}),n&&(i[u]=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n.apply(void 0,t),a&&a[u]&&a[u].apply(a,[o].concat(t))}),i}function h(e,t){var r=t.$table,n=t.row,o=t.column;return i(e,t,function(e){E.default.set(n,o.property,e)},function(){r.updateStatus(t)})}function v(e,t,r,n){return i(e,t,function(e){r.data=e},n)}function M(e,t){var r=t.$form,n=t.data,o=t.property;return i(e,t,function(e){E.default.set(n,o,e)},function(){r.updateStatus(t)})}function n(e,t){var r,o,n=e.options,a=void 0===n?[]:n,u=e.optionGroups,i=e.props,l=void 0===i?{}:i,d=e.optionProps,p=void 0===d?{}:d,f=e.optionGroupProps,c=void 0===f?{}:f,s=t.row,v=t.column,y=t.$table,m=p.label||"label",b=p.value||"value",g=c.options||"options",h=E.default.get(s,v.property),M=v.id;if(l.filterable){var w=y.fullAllDataRowMap;if(w.has(s)&&(r=w.get(s),o=(o=r.cellData)||(w.get(s).cellData={})),r&&o[M]&&o[M].value===h)return o[M].label}return k(h)?null:E.default.map(l.multiple?h:[h],u?function(t){for(var e,r=0;r<u.length&&!(e=E.default.find(u[r][g],function(e){return e[b]===t}));r++);var n=e?e[m]:t;return o&&a&&a.length&&(o[M]={value:h,label:n}),n}:function(t){var e=E.default.find(a,function(e){return e[b]===t}),r=e?e[m]:t;return o&&a&&a.length&&(o[M]={value:h,label:r}),r}).join(", ")}function o(e,t){var r=e.props,n=void 0===r?{}:r,o=t.row,a=t.column,u=E.default.get(o,a.property)||[],i=[];return function t(r,e,n,o){var a=n[r];e&&n.length>r&&E.default.each(e,function(e){e.value===a&&(o.push(e.label),t(++r,e.children,n,o))})}(0,n.data,u,i),i.join(" ".concat(n.separator||"/"," "))}function f(e,t){var r=e.props,n=void 0===r?{}:r,o=t.row,a=t.column,u=n.separator,i=E.default.get(o,a.property);switch(n.type){case"week":i=l(i,n,"yyyywWW");break;case"month":i=l(i,n,"yyyy-MM");break;case"year":i=l(i,n,"yyyy");break;case"dates":i=d(i,n,", ","yyyy-MM-dd");break;case"daterange":i=d(i,n," ".concat(u||"-"," "),"yyyy-MM-dd");break;case"datetimerange":i=d(i,n," ".concat(u||"-"," "),"yyyy-MM-dd HH:ss:mm");break;default:i=l(i,n,"yyyy-MM-dd")}return i}function r(i){return function(e,t,r){var n=r.row,o=r.column,a=t.attrs,u=E.default.get(n,o.property);return[e(t.name,{attrs:a,props:b(t,r,u,i),on:h(t,r)})]}}function c(e,t,r){return[e("Button",{attrs:t.attrs,props:b(t,r,null),on:i(t,r)},I(e,t.content))]}function s(t,e,r){return e.children.map(function(e){return c(t,e,r)[0]})}function y(l){return function(n,o,a){var e=a.column,u=o.name,i=o.attrs;return e.filters.map(function(e,t){var r=e.data;return n(u,{key:t,attrs:i,props:b(o,a,r,l),on:v(o,a,e,function(){m(a,!!e.data,e)})})})}}function m(e,t,r){e.$panel.changeOption({},t,r)}function w(e){var t=e.option,r=e.row,n=e.column,o=t.data;return E.default.get(r,n.property)===o}function x(r,e,t){var n=t.label||"label",o=t.value||"value",a=t.disabled||"disabled";return E.default.map(e,function(e,t){return r("Option",{key:t,props:{value:e[o],label:e[n],disabled:e[a]}})})}function I(e,t){return[""+(k(t)?"":t)]}function P(a){return function(e,t,r){var n=r.data,o=r.property;return[e(t.name,{attrs:t.attrs,props:g(t,r,E.default.get(n,o),a),on:M(t,r)})]}}function S(e,t,r){var n=t.attrs,o=g(t,r,null);return[e("Button",{attrs:n,props:o,on:i(t,r)},I(0,t.content||o.content))]}function D(t,e){var r=e?"editRender":"cellRender";return function(e){return t(e.column[r],e)}}function G(){return function(t,e,r){var n=e.name,o=e.options,a=void 0===o?[]:o,u=e.optionProps,i=void 0===u?{}:u,l=r.data,d=r.property,p=e.attrs,f=i.label||"label",c=i.value||"value",s=i.disabled||"disabled",v=E.default.get(l,d);return[t("".concat(n,"Group"),{attrs:p,props:g(e,r,v),on:M(e,r)},a.map(function(e){return t(n,{props:{label:e[c],disabled:e[s]}},e[f])}))]}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.VXETablePluginIView=void 0,E=(t=E)&&t.__esModule?t:{default:t};var C={Input:{autofocus:"input.ivu-input",renderDefault:r(),renderEdit:r(),renderFilter:y(),filterMethod:w,renderItem:P()},AutoComplete:{autofocus:"input.ivu-input",renderDefault:r(),renderEdit:r(),renderFilter:y(),filterMethod:w,renderItem:P()},InputNumber:{autofocus:"input.ivu-input-number-input",renderDefault:r(),renderEdit:r(),renderFilter:y(),filterMethod:w,renderItem:P()},Select:{renderEdit:function(r,e,t){var n=e.options,o=void 0===n?[]:n,a=e.optionGroups,u=e.optionProps,i=void 0===u?{}:u,l=e.optionGroupProps,d=void 0===l?{}:l,p=t.row,f=t.column,c=e.attrs,s=b(e,t,E.default.get(p,f.property)),v=h(e,t);if(a){var y=d.options||"options",m=d.label||"label";return[r("Select",{attrs:c,props:s,on:v},E.default.map(a,function(e,t){return r("OptionGroup",{props:{label:e[m]},key:t},x(r,e[y],i))}))]}return[r("Select",{attrs:c,props:s,on:v},x(r,o,i))]},renderCell:function(e,t,r){return I(0,n(t,r))},renderFilter:function(n,o,a){var e=o.options,u=void 0===e?[]:e,i=o.optionGroups,t=o.optionProps,l=void 0===t?{}:t,r=o.optionGroupProps,d=void 0===r?{}:r,p=a.column,f=o.attrs;if(i){var c=d.options||"options",s=d.label||"label";return p.filters.map(function(e,t){var r=e.data;return n("Select",{key:t,attrs:f,props:b(o,a,r),on:v(o,a,e,function(){m(a,e.data&&0<e.data.length,e)})},E.default.map(i,function(e,t){return n("OptionGroup",{key:t,props:{label:e[s]}},x(n,e[c],l))}))})}return p.filters.map(function(e,t){var r=e.data;return n("Select",{key:t,attrs:f,props:b(o,a,r),on:v(o,a,e,function(){m(a,e.data&&0<e.data.length,e)})},x(n,u,l))})},filterMethod:function(e){var t=e.option,r=e.row,n=e.column,o=t.data,a=n.property,u=n.filterRender.props,i=void 0===u?{}:u,l=E.default.get(r,a);return i.multiple?E.default.isArray(l)?E.default.includeArrays(l,o):-1<o.indexOf(l):l==o},renderItem:function(r,e,t){var n=e.options,o=void 0===n?[]:n,a=e.optionGroups,u=e.optionProps,i=void 0===u?{}:u,l=e.optionGroupProps,d=void 0===l?{}:l,p=t.data,f=t.property,c=e.attrs,s=g(e,t,E.default.get(p,f)),v=M(e,t);if(a){var y=d.options||"options",m=d.label||"label";return[r("Select",{props:s,attrs:c,on:v},E.default.map(a,function(e,t){return r("OptionGroup",{key:t,props:{label:e[m]}},x(r,e[y],i))}))]}return[r("Select",{props:s,attrs:c,on:v},x(r,o,i))]},cellExportMethod:D(n),editCellExportMethod:D(n,!0)},Cascader:{renderEdit:r({transfer:!0}),renderCell:function(e,t,r){return I(0,o(t,r))},renderItem:P(),cellExportMethod:D(o),editCellExportMethod:D(o,!0)},DatePicker:{renderEdit:r({transfer:!0}),renderCell:function(e,t,r){return I(0,f(t,r))},renderFilter:function(n,o,a){var e=a.column,u=o.attrs;return e.filters.map(function(e,t){var r=e.data;return n(o.name,{key:t,attrs:u,props:b(o,a,r),on:v(o,a,e,function(){m(a,!!e.data,e)})})})},filterMethod:function(e){var t=e.option,r=e.row,n=e.column,o=t.data,a=n.filterRender.props,u=void 0===a?{}:a,i=E.default.get(r,n.property);if(o)switch(u.type){case"daterange":return p(i,o,u,"yyyy-MM-dd");case"datetimerange":return p(i,o,u,"yyyy-MM-dd HH:ss:mm");default:return i===o}return!1},renderItem:P(),cellExportMethod:D(f),editCellExportMethod:D(f,!0)},TimePicker:{renderEdit:r({transfer:!0}),renderItem:P()},Rate:{renderDefault:r(),renderEdit:r(),renderFilter:y(),filterMethod:w,renderItem:P()},iSwitch:{renderDefault:r(),renderEdit:r(),renderFilter:function(n,o,a){var e=a.column,u=o.name,i=o.attrs;return e.filters.map(function(e,t){var r=e.data;return n(u,{key:t,attrs:i,props:b(o,a,r),on:v(o,a,e,function(){m(a,E.default.isBoolean(e.data),e)})})})},filterMethod:w,renderItem:P()},Radio:{renderItem:G()},Checkbox:{renderItem:G()},Button:{renderEdit:c,renderDefault:c,renderItem:S},Buttons:{renderEdit:s,renderDefault:s,renderItem:function(t,e,r){return e.children.map(function(e){return S(t,e,r)[0]})}}};function O(e,t){if(function(e,t,r){for(var n,o=e.target;o&&o.nodeType&&o!==document;){if(r&&o.className&&o.className.split&&-1<o.className.split(" ").indexOf(r))n=o;else if(o===t)return{flag:!r||!!n,container:t,targetElem:n};o=o.parentNode}return{flag:!1}}(t,document.body,"ivu-select-dropdown").flag)return!1}var T={install:function(e){var t=e.interceptor;e.renderer.mixin(C),t.add("event.clearFilter",O),t.add("event.clearActived",O)}};e.VXETablePluginIView=T,"undefined"!=typeof window&&window.VXETable&&window.VXETable.use(T);var F=T;e.default=F});