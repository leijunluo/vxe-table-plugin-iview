!function(e,t){if("function"==typeof define&&define.amd)define("vxe-table-plugin-iview",["exports","xe-utils"],t);else if("undefined"!=typeof exports)t(exports,require("xe-utils"));else{var n={exports:{}};t(n.exports,e.XEUtils),e.VXETablePluginIView=n.exports.default}}(this,function(e,k){"use strict";var t;function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t,n){return k.default.toDateString(e,t.format||n)}function p(e,t,n,r){return k.default.map(e,function(e){return d(e,t,r)}).join(n)}function i(e,t,n,r){return(e=d(e,n,r))>=d(t[0],n,r)&&e<=d(t[1],n,r)}function g(e,t,n){var r=e.$table,a=t.props;return k.default.assign(r.vSize?{size:r.vSize}:{},n,a)}function y(e,a){var t=e.events,n=a.$table,r=m({},"on-change",function(){return n.updateStatus(a)});return t?k.default.assign({},k.default.objectMap(t,function(r){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.apply(null,[a].concat.apply(a,t))}}),r):r}function n(l){return function(e,t,n){var r=n.row,a=n.column,o=t.attrs,u=g(n,t,l);return[e(t.name,{props:u,attrs:o,model:{value:k.default.get(r,a.property),callback:function(e){k.default.set(r,a.property,e)}},on:y(t,n)})]}}function h(e,t,a,o){var n=t.events;return n?k.default.assign({},k.default.objectMap(n,function(r){return function(){a=Object.assign({context:o},a);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.apply(null,[a].concat.apply(a,t))}}),e):e}function r(){return function(e,n,r,a){var o=r.column,u=n.name,l=n.attrs,i=n.events,d="on-change",p=g(r,n);return o.filters.map(function(t){return e(u,{props:p,attrs:l,model:{value:t.data,callback:function(e){t.data=e}},on:h(m({},d,function(e){w(a,o,!!t.data,t),i&&i[d]&&i[d](Object.assign({context:a},r),e)}),n,r,a)})})}}function w(e,t,n,r){e[t.filterMultiple?"changeMultipleOption":"changeRadioOption"]({},n,r)}function a(e){var t=e.option,n=e.row,r=e.column,a=t.data;return k.default.get(n,r.property)===a}function M(n,e,t){var r=t.label||"label",a=t.value||"value",o=t.disabled||"disabled";return k.default.map(e,function(e,t){return n("Option",{props:{value:e[a],label:e[r],disabled:e[o]},key:t})})}function x(e,t){return[""+(null==t?"":t)]}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.VXETablePluginIView=void 0,k=(t=k)&&t.__esModule?t:{default:t};var o={Input:{autofocus:"input.ivu-input",renderDefault:n(),renderEdit:n(),renderFilter:r(),filterMethod:a},AutoComplete:{autofocus:"input.ivu-input",renderDefault:n(),renderEdit:n(),renderFilter:r(),filterMethod:a},InputNumber:{autofocus:"input.ivu-input-number-input",renderDefault:n(),renderEdit:n(),renderFilter:r(),filterMethod:a},Select:{renderEdit:function(n,e,t){var r=e.options,a=e.optionGroups,o=e.optionProps,u=void 0===o?{}:o,l=e.optionGroupProps,i=void 0===l?{}:l,d=t.row,p=t.column,c=e.attrs,f=g(t,e,{transfer:!0});if(a){var s=i.options||"options",v=i.label||"label";return[n("Select",{props:f,attrs:c,model:{value:k.default.get(d,p.property),callback:function(e){k.default.set(d,p.property,e)}},on:y(e,t)},k.default.map(a,function(e,t){return n("OptionGroup",{props:{label:e[v]},key:t},M(n,e[s],u))}))]}return[n("Select",{props:f,attrs:c,model:{value:k.default.get(d,p.property),callback:function(e){k.default.set(d,p.property,e)}},on:y(e,t)},M(n,r,u))]},renderCell:function(e,t,n){var r,a,o=t.options,u=t.optionGroups,l=t.props,i=void 0===l?{}:l,d=t.optionProps,p=void 0===d?{}:d,c=t.optionGroupProps,f=void 0===c?{}:c,s=n.$table,v=n.row,y=n.column,b=p.label||"label",m=p.value||"value",g=f.options||"options",h=k.default.get(v,y.property),w=y.id;if(i.remote){var M=s.fullAllDataRowMap;if(M.has(v)&&(r=M.get(v),a=(a=r.cellData)||(M.get(v).cellData={})),r&&a[w]&&a[w].value===h)return a[w].label}return x(0,null!=h&&""!==h?k.default.map(i.multiple?h:[h],u?function(t){for(var e,n=0;n<u.length&&!(e=k.default.find(u[n][g],function(e){return e[m]===t}));n++);var r=e?e[b]:t;return a&&o&&o.length&&(a[w]={value:h,label:r}),r}:function(t){var e=k.default.find(o,function(e){return e[m]===t}),n=e?e[b]:t;return a&&o&&o.length&&(a[w]={value:h,label:n}),n}).join(";"):"")},renderFilter:function(n,e,r,a){var o=e.options,u=e.optionGroups,t=e.optionProps,l=void 0===t?{}:t,i=e.optionGroupProps,d=void 0===i?{}:i,p=r.column,c=e.attrs,f=e.events,s=g(r,e,{transfer:!0}),v="on-change";if(u){var y=d.options||"options",b=d.label||"label";return p.filters.map(function(t){return n("Select",{props:s,attrs:c,model:{value:t.data,callback:function(e){t.data=e}},on:h(m({},v,function(e){w(a,p,e&&0<e.length,t),f&&f[v]&&f[v](Object.assign({context:a},r),e)}),e,r,a)},k.default.map(u,function(e,t){return n("OptionGroup",{props:{label:e[b]},key:t},M(n,e[y],l))}))})}return p.filters.map(function(t){return n("Select",{props:s,attrs:c,model:{value:t.data,callback:function(e){t.data=e}},on:h(m({},v,function(e){w(a,p,e&&0<e.length,t),f&&f[v]&&f[v](Object.assign({context:a},r),e)}),e,r,a)},M(n,o,l))})},filterMethod:function(e){var t=e.option,n=e.row,r=e.column,a=t.data,o=r.property,u=r.filterRender.props,l=void 0===u?{}:u,i=k.default.get(n,o);return l.multiple?k.default.isArray(i)?k.default.includeArrays(i,a):-1<a.indexOf(i):i==a}},Cascader:{renderEdit:n({transfer:!0}),renderCell:function(e,t,n){var r=t.props,a=void 0===r?{}:r,o=n.row,u=n.column,l=k.default.get(o,u.property)||[],i=[];return function t(n,e,r,a){var o=r[n];e&&r.length>n&&k.default.each(e,function(e){e.value===o&&(a.push(e.label),t(++n,e.children,r,a))})}(0,a.data,l,i),x(0,i.join(" ".concat(a.separator||"/"," ")))}},DatePicker:{renderEdit:n({transfer:!0}),renderCell:function(e,t,n){var r=t.props,a=void 0===r?{}:r,o=n.row,u=n.column,l=a.separator,i=k.default.get(o,u.property);switch(a.type){case"week":i=d(i,a,"yyyywWW");break;case"month":i=d(i,a,"yyyy-MM");break;case"year":i=d(i,a,"yyyy");break;case"dates":i=p(i,a,", ","yyyy-MM-dd");break;case"daterange":i=p(i,a," ".concat(l||"-"," "),"yyyy-MM-dd");break;case"datetimerange":i=p(i,a," ".concat(l||"-"," "),"yyyy-MM-dd HH:ss:mm");break;default:i=d(i,a,"yyyy-MM-dd")}return x(0,i)},renderFilter:function(e,n,r,a){var o=r.column,u=n.attrs,l=n.events,i=g(r,n,{transfer:!0}),d="on-change";return o.filters.map(function(t){return e(n.name,{props:i,attrs:u,model:{value:t.data,callback:function(e){t.data=e}},on:h(m({},d,function(e){w(a,o,!!e,t),l&&l[d]&&l[d](Object.assign({context:a},r),e)}),n,r,a)})})},filterMethod:function(e){var t=e.option,n=e.row,r=e.column,a=t.data,o=r.filterRender.props,u=void 0===o?{}:o,l=k.default.get(n,r.property);if(a)switch(u.type){case"daterange":return i(l,a,u,"yyyy-MM-dd");case"datetimerange":return i(l,a,u,"yyyy-MM-dd HH:ss:mm");default:return l===a}return!1}},TimePicker:{renderEdit:n({transfer:!0})},Rate:{renderDefault:n(),renderEdit:n(),renderFilter:r(),filterMethod:a},iSwitch:{renderDefault:n(),renderEdit:n(),renderFilter:r(),filterMethod:a}};function u(e,t,n){if((0,n.getEventTargetNode)(t,document.body,"ivu-select-dropdown").flag)return!1}var l={install:function(e){var t=e.interceptor;e.renderer.mixin(o),t.add("event.clearFilter",u),t.add("event.clearActived",u)}};e.VXETablePluginIView=l,"undefined"!=typeof window&&window.VXETable&&window.VXETable.use(l);var c=l;e.default=c});